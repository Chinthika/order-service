###############################################################################
# New Relic Python Agent Configuration File
###############################################################################

[newrelic]
app_name = order-service-prod

monitor_mode = true
# ──────────────────────────────────────────────────────────────────────────────
# LOGGING
# ──────────────────────────────────────────────────────────────────────────────
log_file = stdout
log_level = info

# Enable APM transaction tracing
transaction_tracer.enabled = true
transaction_tracer.transaction_threshold = apdex_f
transaction_tracer.record_sql = obfuscated
transaction_tracer.stack_trace_threshold = 0.5
transaction_tracer.explain_enabled = true
transaction_tracer.explain_threshold = 0.5

error_collector.enabled = true
distributed_tracing.enabled = true
browser_monitoring.auto_instrument = true

# ──────────────────────────────────────────────────────────────────────────────
# APPLICATION LOGGING INTEGRATION
# ──────────────────────────────────────────────────────────────────────────────
# This will pick up any Python logger output and forward to New Relic.
application_logging.enabled = true
application_logging.forwarding.enabled = true
application_logging.local_decorating.enabled = true
application_logging.metrics.enabled = true

###############################################################################
# ENVIRONMENT-SPECIFIC OVERRIDES
###############################################################################

[newrelic:production]
monitor_mode = true
app_name = order-service-prod